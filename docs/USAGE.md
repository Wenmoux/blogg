# blogg-main ä½¿ç”¨è¯´æ˜

## ğŸ“– ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ–‡ç« ç®¡ç†](#æ–‡ç« ç®¡ç†)
- [æ ‡ç­¾ç³»ç»Ÿ](#æ ‡ç­¾ç³»ç»Ÿ)
- [ç¢ç¢å¿µ](#ç¢ç¢å¿µ)
- [ä¹¦æ¶ç®¡ç†](#ä¹¦æ¶ç®¡ç†)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```bash
pnpm install
```

### å¼€å‘æ¨¡å¼
```bash
pnpm dev
```

è®¿é—®ï¼šhttp://localhost:3000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
pnpm build
pnpm start
```

---

## ğŸ“ æ–‡ç« ç®¡ç†

### æ–‡ä»¶å‘½åæ ¼å¼

#### æ–°æ ¼å¼ï¼ˆæ¨èï¼‰
```
slug.md
```
ç¤ºä¾‹ï¼š`nextjs-tutorial.md`

#### æ—§æ ¼å¼ï¼ˆå…¼å®¹ï¼‰
```
[æ–‡ç« å]-[æ—¥æœŸ].md
```
ç¤ºä¾‹ï¼š`[Next.jsæ•™ç¨‹]-[2025-12-15].md`

### Frontmatter é…ç½®

åœ¨æ–‡ç« å¼€å¤´æ·»åŠ  YAML frontmatterï¼š

```yaml
---
title: Next.js å®Œæ•´æ•™ç¨‹
slug: nextjs-tutorial
date: 2025-12-15
description: ä»é›¶å¼€å§‹å­¦ä¹  Next.jsï¼ŒåŒ…å«æœ€ä½³å®è·µå’Œå®æˆ˜æ¡ˆä¾‹
cover: /images/nextjs-cover.jpg
tags:
  - Next.js
  - React (blue)
  - TypeScript (green)
categories:
  - å‰ç«¯å¼€å‘
  - æ•™ç¨‹
---

# æ–‡ç« å†…å®¹å¼€å§‹...
```

### Frontmatter å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|------|
| `title` | string | âŒ | æ–‡ç« æ ‡é¢˜ | `Next.js å®Œæ•´æ•™ç¨‹` |
| `slug` | string | âŒ | URL çŸ­é“¾æ¥ | `nextjs-tutorial` |
| `date` | string | âŒ | å‘å¸ƒæ—¥æœŸ | `2025-12-15` |
| `description` | string | âŒ | æ–‡ç« ç®€ä»‹ | `ä»é›¶å¼€å§‹å­¦ä¹ ...` |
| `cover` | string | âŒ | å°é¢å›¾ç‰‡ | `/images/cover.jpg` |
| `tags` | array | âŒ | æ ‡ç­¾åˆ—è¡¨ | è§ä¸‹æ–¹è¯´æ˜ |
| `categories` | array | âŒ | åˆ†ç±»åˆ—è¡¨ | `[å‰ç«¯å¼€å‘, æ•™ç¨‹]` |

**æ³¨æ„**ï¼š
- å¦‚æœä¸æä¾› frontmatterï¼Œå°†ä½¿ç”¨æ–‡ä»¶åä½œä¸ºé»˜è®¤å€¼
- æ–°æ ¼å¼æ–‡ä»¶æ¨èä½¿ç”¨ frontmatter æŒ‡å®šæ‰€æœ‰å…ƒæ•°æ®

### æ–‡ç« å­˜å‚¨ä½ç½®
```
content/mds/
```

---

## ğŸ·ï¸ æ ‡ç­¾ç³»ç»Ÿ

### è®¿é—®æ ‡ç­¾äº‘
```
/tags
```
æ˜¾ç¤ºæ‰€æœ‰æ ‡ç­¾åŠæ–‡ç« æ•°é‡ï¼ŒæŒ‰æ•°é‡é™åºæ’åˆ—ã€‚

### æŒ‰æ ‡ç­¾ç­›é€‰
```
/tags/æ ‡ç­¾å
```
æ˜¾ç¤ºåŒ…å«è¯¥æ ‡ç­¾çš„æ‰€æœ‰æ–‡ç« ã€‚

### æ ‡ç­¾é…ç½®

#### ç®€å•æ ‡ç­¾
```yaml
tags:
  - Next.js
  - React
  - TypeScript
```

#### å¸¦é¢œè‰²çš„æ ‡ç­¾
```yaml
tags:
  - Next.js (blue)
  - React (green)
  - TypeScript (purple)
  - æ•™ç¨‹ (yellow)
```

### å¯ç”¨é¢œè‰²

| é¢œè‰²å | æ•ˆæœ | é€‚ç”¨åœºæ™¯ |
|--------|------|----------|
| `blue` | è“è‰² | æŠ€æœ¯ã€å·¥å…· |
| `green` | ç»¿è‰² | æ¡†æ¶ã€åº“ |
| `red` | çº¢è‰² | é‡è¦ã€è­¦å‘Š |
| `yellow` | é»„è‰² | æ•™ç¨‹ã€æŒ‡å— |
| `purple` | ç´«è‰² | é«˜çº§ã€ä¸“é¢˜ |
| `pink` | ç²‰è‰² | è®¾è®¡ã€UI |
| `gray` | ç°è‰² | å…¶ä»–ã€æ‚é¡¹ |

### æ ‡ç­¾æ˜¾ç¤ºä½ç½®
- âœ… é¦–é¡µæ–‡ç« åˆ—è¡¨
- âœ… æ ‡ç­¾äº‘é¡µé¢
- âœ… æ ‡ç­¾ç­›é€‰é¡µé¢

---

## ğŸ’­ ç¢ç¢å¿µ

### è®¿é—®é¡µé¢
```
/mutter
```

### æ·»åŠ ç¢ç¢å¿µ

#### æ–¹å¼ä¸€ï¼šå‘½ä»¤è¡Œï¼ˆæ¨èï¼‰
```bash
npm run mutter "ä»Šå¤©å­¦ä¼šäº†æ–°æŠ€èƒ½ï¼ğŸ‰"
```

#### æ–¹å¼äºŒï¼šç¼–è¾‘ JSON
ç¼–è¾‘ `content/mutters.json`ï¼š
```json
[
  {
    "id": "1734278400000",
    "content": "ä»Šå¤©å­¦ä¼šäº†æ–°æŠ€èƒ½ï¼ğŸ‰",
    "date": "2025-12-15 20:00"
  }
]
```

### å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `id` | string | âœ… | å”¯ä¸€æ ‡è¯†ï¼ˆå»ºè®®ä½¿ç”¨æ—¶é—´æˆ³ï¼‰ |
| `content` | string | âœ… | ç¢ç¢å¿µå†…å®¹ |
| `date` | string | âœ… | æ—¶é—´ï¼ˆæ ¼å¼ï¼šYYYY-MM-DD HH:mmï¼‰ |

### ç‰¹æ€§
- â±ï¸ è‡ªåŠ¨æŒ‰æ—¶é—´å€’åºæ’åˆ—
- ğŸ¨ æ¸å˜è‰²æ—¶é—´è½´
- ğŸ’¬ æ”¯æŒ emoji è¡¨æƒ…
- ğŸ“ å»ºè®® 100 å­—ä»¥å†…

---

## ğŸ“š ä¹¦æ¶ç®¡ç†

### è®¿é—®é¡µé¢
```
/books
```

### æ·»åŠ ä¹¦ç±

ç¼–è¾‘ `content/books.json`ï¼š
```json
[
  {
    "id": "1",
    "title": "æ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿ",
    "author": "Randal E. Bryant",
    "cover": "/images/books/csapp.jpg",
    "description": "æœ¬ä¹¦ä»ç¨‹åºå‘˜çš„è§’åº¦è¯¦ç»†é˜è¿°è®¡ç®—æœºç³»ç»Ÿçš„æœ¬è´¨æ¦‚å¿µ...",
    "rating": 4.9,
    "link": "https://book.douban.com/subject/26912767/",
    "finishedDate": "2025-12"
  }
]
```

### å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `id` | string | âœ… | å”¯ä¸€æ ‡è¯† |
| `title` | string | âœ… | ä¹¦å |
| `author` | string | âœ… | ä½œè€… |
| `cover` | string | âœ… | å°é¢å›¾ç‰‡è·¯å¾„ |
| `description` | string | âœ… | ç®€ä»‹ï¼ˆå»ºè®® 100-200 å­—ï¼‰ |
| `rating` | number | âœ… | è¯„åˆ†ï¼ˆ0-5ï¼Œæ”¯æŒå°æ•°ï¼‰ |
| `link` | string | âŒ | å¤–éƒ¨é“¾æ¥ï¼ˆè±†ç“£ã€Amazon ç­‰ï¼‰ |
| `finishedDate` | string | âŒ | é˜…è¯»å®Œæˆæ—¶é—´ï¼ˆæ ¼å¼ï¼šYYYY-MMï¼‰ |

### å°é¢å›¾ç‰‡

#### æ–¹å¼ä¸€ï¼šæœ¬åœ°å­˜å‚¨
1. å°†å›¾ç‰‡æ”¾åœ¨ `public/images/books/` ç›®å½•
2. åœ¨ JSON ä¸­ä½¿ç”¨ï¼š`"/images/books/book-cover.jpg"`

#### æ–¹å¼äºŒï¼šå¤–éƒ¨é“¾æ¥
ç›´æ¥ä½¿ç”¨å®Œæ•´ URLï¼š
```json
"cover": "https://img3.doubanio.com/view/subject/l/public/s29988481.jpg"
```

#### æ¨èå°ºå¯¸
- å®½åº¦ï¼š300-400px
- é«˜åº¦ï¼š400-600px
- æ¯”ä¾‹ï¼šçº¦ 2:3ï¼ˆæ ‡å‡†ä¹¦ç±æ¯”ä¾‹ï¼‰

### è·å–å°é¢å›¾ç‰‡

**è±†ç“£è¯»ä¹¦**ï¼š
1. è®¿é—®è±†ç“£è¯»ä¹¦é¡µé¢
2. å³é”®ç‚¹å‡»å°é¢å›¾ç‰‡
3. é€‰æ‹©"åœ¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å›¾ç‰‡"
4. å¤åˆ¶ URL åœ°å€

**Amazon**ï¼š
1. è®¿é—® Amazon ä¹¦ç±é¡µé¢
2. å³é”®ç‚¹å‡»å°é¢
3. å¤åˆ¶å›¾ç‰‡åœ°å€

---

## âš™ï¸ é…ç½®è¯´æ˜

### å¯¼èˆªæ é…ç½®

ç¼–è¾‘ `src/app/white-list.ts`ï¼š
```typescript
export const whiteList = [
  { name: '', title: 'é¦–é¡µ' },
  { name: 'tags', title: 'æ ‡ç­¾' },
  { name: 'books', title: 'ä¹¦æ¶' },
  { name: 'mutter', title: 'ç¢ç¢å¿µ' },
  { name: 'about', title: 'å…³äº' },
  { name: 'friend-links', title: 'å‹é“¾' },
  { name: 'chat', title: 'èŠå¤©' },
  { name: 'todo', title: 'å¾…åš' },
];
```

### ISR é…ç½®

é»˜è®¤ 60 ç§’é‡æ–°éªŒè¯ï¼š
```typescript
// src/app/(layout)/(blog)/[slug]/page.tsx
export const revalidate = 60;
```

### åŠ¨æ€è·¯ç”±

é»˜è®¤å¯ç”¨ï¼š
```typescript
export const dynamicParams = true;
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
blogg-main/
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ mds/              # Markdown æ–‡ç« 
â”‚   â”œâ”€â”€ mutters.json      # ç¢ç¢å¿µæ•°æ®
â”‚   â””â”€â”€ books.json        # ä¹¦ç±æ•°æ®
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ actions/          # Server Actions
â”‚   â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ mutter/
â”‚   â”‚   â””â”€â”€ book/
â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (layout)/
â”‚   â”‚   â”‚   â”œâ”€â”€ (blog)/[slug]/  # æ–‡ç« è¯¦æƒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ tags/           # æ ‡ç­¾ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ mutter/         # ç¢ç¢å¿µ
â”‚   â”‚   â”‚   â”œâ”€â”€ books/          # ä¹¦æ¶
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx        # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ api/          # API è·¯ç”±
â”‚   â”‚   â””â”€â”€ chat/         # èŠå¤©é¡µé¢
â”‚   â”œâ”€â”€ components/       # React ç»„ä»¶
â”‚   â””â”€â”€ lib/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ add-mutter.js    # æ·»åŠ ç¢ç¢å¿µè„šæœ¬
â””â”€â”€ public/              # é™æ€èµ„æº
```

---

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

### Tailwind CSS

ä½¿ç”¨ Tailwind CSS 4 è¿›è¡Œæ ·å¼å¼€å‘ã€‚

### æš—è‰²æ¨¡å¼

æ‰€æœ‰ç»„ä»¶éƒ½æ”¯æŒæš—è‰²æ¨¡å¼ï¼Œä½¿ç”¨ `dark:` å‰ç¼€ï¼š
```tsx
<div className='bg-white dark:bg-gray-800'>
  {/* å†…å®¹ */}
</div>
```

### å“åº”å¼è®¾è®¡

æ–­ç‚¹ï¼š
- `sm`: 640px
- `md`: 768px
- `lg`: 1024px
- `xl`: 1280px
- `2xl`: 1536px

ç¤ºä¾‹ï¼š
```tsx
<div className='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3'>
  {/* æ‰‹æœº1åˆ—ï¼Œå¹³æ¿2åˆ—ï¼Œæ¡Œé¢3åˆ— */}
</div>
```

---

## ğŸ” SEO ä¼˜åŒ–

### Metadata

åœ¨ `page.tsx` ä¸­é…ç½®ï¼š
```typescript
export const metadata: Metadata = {
  title: 'é¡µé¢æ ‡é¢˜',
  description: 'é¡µé¢æè¿°',
  keywords: ['å…³é”®è¯1', 'å…³é”®è¯2'],
  openGraph: {
    title: 'OGæ ‡é¢˜',
    description: 'OGæè¿°',
    images: ['/og-image.jpg'],
  },
};
```

### åŠ¨æ€ Metadata

```typescript
export async function generateMetadata({ params }): Promise<Metadata> {
  const data = await fetchData(params);
  return {
    title: data.title,
    description: data.description,
  };
}
```

---

## ğŸ› ï¸ å¼€å‘å·¥å…·

### ä»£ç æ ¼å¼åŒ–
```bash
pnpm format
```

### ä»£ç æ£€æŸ¥
```bash
pnpm lint
```

### ç±»å‹æ£€æŸ¥
```bash
pnpm type-check
```

---

## ğŸ“¦ éƒ¨ç½²

### Vercelï¼ˆæ¨èï¼‰
1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ Vercel å¯¼å…¥é¡¹ç›®
3. è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²

### Docker
```bash
docker build -t blogg-main .
docker run -p 3000:3000 blogg-main
```

### æ‰‹åŠ¨éƒ¨ç½²
```bash
pnpm build
pnpm start
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ ‡ç­¾é¡µé¢ 404ï¼Ÿ
A: ç¡®ä¿ `dynamicParams = true` å·²è®¾ç½®ï¼Œæ¸…é™¤æ„å»ºç¼“å­˜åé‡æ–°æ„å»ºã€‚

### Q: å›¾ç‰‡ä¸æ˜¾ç¤ºï¼Ÿ
A: æ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿å›¾ç‰‡åœ¨ `public/` ç›®å½•ä¸‹ã€‚

### Q: æš—è‰²æ¨¡å¼ä¸ç”Ÿæ•ˆï¼Ÿ
A: æ£€æŸ¥æ˜¯å¦æ­£ç¡®ä½¿ç”¨ `dark:` å‰ç¼€ï¼Œç¡®ä¿å®‰è£…äº† `next-themes`ã€‚

### Q: ç¢ç¢å¿µæ·»åŠ å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ `content/mutters.json` æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”æ ¼å¼æ­£ç¡®ã€‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹ [CHANGELOG.md](../CHANGELOG.md)
2. æ£€æŸ¥ TypeScript ç±»å‹é”™è¯¯
3. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æœ€åæ›´æ–°**ï¼š2025-12-15
